{"version":3,"sources":["fBase.js","modules/userInfo.js","components/NavBar.js","share/common.js","modules/summaryInfo.js","components/Home.js","containers/HomeContainer.js","components/Auth.js","containers/AuthContainer.js","modules/incomeInfo.js","share/FloatingAddBtn.js","components/ItemList.js","containers/IncomeContainer.js","modules/expenseInfo.js","containers/ExpenseContainer.js","components/ItemDetail.js","containers/ItemDetailContainer.js","share/ToastMessage.js","router/AppRouter.js","App.js","modules/index.js","index.js"],"names":["moneyKindergarten","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","dbService","firestore","rsf","ReduxSagaFirebase","registerNewAccountSaga","loginSaga","logoutSaga","setErrorMsgSaga","userInfoSaga","REGISTER","LOGIN","LOGOUT","SET_USER_LOGIN","SET_USER_LOGOUT","FAIL","FAIL_ON_VALIDATION","SET_ERROR_MSG","setErrorMsg","msg","type","action","obj","email","password","call","auth","createUserWithEmailAndPassword","user","put","message","signInWithEmailAndPassword","signOut","takeEvery","initialState","isLoggedIn","userObj","authMsg","isError","NavBar","history","useHistory","dispatch","useDispatch","useState","openDrawer","setOpenDrawer","useSelector","state","userInfo","toggleDrawer","onMovePage","page","push","className","IconButton","onClick","Close","Menu","MonetizationOn","List","ListItem","button","Divider","trimMonth","month","result","substr","addComma","number","toString","replace","convertPropertyData","name","defaultValue","returnValue","readSummarySaga","summaryInfoSaga","READ","SET_SUMMARY","a","collection","where","get","incomeRefs","docs","tempArr","forEach","doc","exists","id","data","incomeList","expenseRefs","expenseList","Array","isArray","totalIncome","reduce","sum","item","cm","totalExpense","expensePerTypes","row","itemTypeName","itemPrice","balance","console","log","summary","Home","chartOption","option","notMerge","lazyUpdate","style","width","HomeContainer","summaryInfo","defaultOption","tooltip","trigger","legend","show","top","series","radius","height","label","formatter","params","percent","value","rich","title","fontWeight","fontSize","ammount","color","moment","format","curYear","setCurYear","curMonth","setCurMonth","setBalance","setChartOption","onClickArrowBtn","flag","newlySelectedMonth","subtract","add","getSummaryInfo","useCallback","setSummaryInfo","tempData","tempOption","Object","assign","entries","key","useEffect","ArrowBackIos","ArrowForwardIos","Auth","isOnRegister","toggleRegisterProcess","onChangeValue","onPressKey","handleLogin","onClickRegisterBtn","Android","AccountBalance","Apple","TextField","required","onChange","onKeyPress","Button","variant","size","AuthContainer","setIsOnRegister","setEmail","setPassword","onRegister","registerNewAccount","onLogin","login","checkValidation","isValid","e","target","charCode","document","querySelector","focus","readIncomeListSaga","registerNewIncomeSaga","deleteIncomeSaga","updateIncomeSaga","incomeInfoSaga","DELETE","UPDATE","SET_INCOME_LIST","SUCCESS","registerNewIncome","updateIncome","curYm","ym","then","catch","error","delete","update","incomeMsg","FloatingAddBtn","movePage","ItemList","curItemList","showDelBtn","deleteItem","onEventHandler","map","index","draggable","onTouchStart","onTouchEnd","itemAmount","Delete","IncomeContainer","location","useLocation","incomeInfo","curIncomeList","setCurIncomeList","totalIncomeAmount","setTotalIncomeAmount","setShowDelBtn","x","y","touchPosition","setTouchPosition","getIncomeList","setIncomeList","totalAmount","targetMonth","split","tempYear","tempMonth","undefined","changedTouches","pageX","pageY","xPos","yPos","selectedItem","find","pathname","actionType","targetItem","updateIncomeList","distanceX","Math","abs","distanceY","readExpenseListSaga","registerNewExpenseSaga","deleteExpenseSaga","updateExpenseSaga","expenseInfoSaga","SET_EXPENSE_LIST","registerNewExpense","updateExpense","ExpenseContainer","expenseInfo","curExpenseList","setCurExpenseList","totalExpenseAmount","setTotalExpenseAmount","getExpenseList","setExpenseList","updateExpenseList","registerLocale","ko","ItemDetail","onChangeItem","onChangeDate","onClickPrevBtn","onClickSubmitBtn","FormControl","fullWidth","InputLabel","htmlFor","NativeSelect","itemType","inputProps","locale","selected","date","dateFormat","customInput","popperModifiers","preventOverflow","enabled","popperPlacement","remark","ItemDetailContainer","tempItem","Date","setItem","itemTypeMap","Map","mapActions","incomeActionMap","expenseActionMap","typeText","actionText","tempYm","Number","mapPageTitle","newValue","paramItem","ToastMessage","expenseMsg","openAlert","setOpenAlert","alertMessage","setAlertMessage","alertType","setAlertType","Snackbar","open","autoHideDuration","onClose","severity","elevation","AppRouter","basename","exact","path","to","App","rootSaga","rootReducer","combineReducers","all","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4da08bf6.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport ReduxSagaFirebase from 'redux-saga-firebase'\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nconst moneyKindergarten = firebase.initializeApp(firebaseConfig);\n\nexport const firebaseInstance = firebase;\nexport const dbService = firebase.firestore();\nexport const rsf = new ReduxSagaFirebase(moneyKindergarten);\n","import { call, put, takeEvery } from 'redux-saga/effects';\nimport { rsf } from \"../fBase\";\n\n// Action types\nconst REGISTER = 'userInfo/REGISTER';\nconst LOGIN = 'userInfo/LOGIN';\nconst LOGOUT = 'userInfo/LOGOUT';\nconst SET_USER_LOGIN = 'userInfo/SET_USER_LOGIN';\nconst SET_USER_LOGOUT = 'userInfo/SET_USER_LOGOUT';\nconst FAIL = 'userInfo/FAIL';\nconst FAIL_ON_VALIDATION = 'userInfo/FAIL_ON_VALIDATION';\nconst SET_ERROR_MSG = 'userInfo/SET_ERROR_MSG';\n\n// Action creators\nexport const registerNewAccount = obj => ({ type: REGISTER, obj });\nexport const login = obj => ({ type: LOGIN, obj });\nexport const logout = () => ({ type: LOGOUT });\nexport const setUserLogin = user => ({ type: SET_USER_LOGIN, user });\nexport const setUserLogout = () => ({ type: SET_USER_LOGOUT });\nexport const setErrorMsg = msg => ({ type: SET_ERROR_MSG, msg });\n\n// saga\nfunction* registerNewAccountSaga(action) {  \n  try {\n    const { email, password } = action.obj;\n    const user = yield call(rsf.auth.createUserWithEmailAndPassword, email, password);\n    yield put({ type: SET_USER_LOGIN, user });\n  } catch (e) {\n    yield put({ type: FAIL, msg: e.message });\n  }\n}\n\nfunction* loginSaga(action) {\n  try {\n    const { email, password } = action.obj;\n    const user = yield call(rsf.auth.signInWithEmailAndPassword, email, password);\n    yield put({ type: SET_USER_LOGIN, user });\n  } catch (e) {\n    yield put({ type: FAIL, msg: e.message });\n  }\n}\n\nfunction* logoutSaga() {\n  try {\n    yield call(rsf.auth.signOut);\n    yield put({ type: SET_USER_LOGOUT });\n  } catch (e) {\n    yield put({ type: FAIL, msg: e.message });\n  }\n}\n\nfunction* setErrorMsgSaga(action) {\n  yield put({ type: FAIL_ON_VALIDATION, msg: action.msg });\n}\n\nexport function* userInfoSaga() {\n  yield takeEvery(REGISTER, registerNewAccountSaga);\n  yield takeEvery(LOGIN, loginSaga);\n  yield takeEvery(LOGOUT, logoutSaga);\n  yield takeEvery(SET_ERROR_MSG, setErrorMsgSaga);\n}\n\n// initial states\nconst initialState = {\n  isLoggedIn: false,\n  userObj: {},\n  authMsg: { msg: '', isError: false },\n};\n\n// reducers\nexport default function UserInfo(state = initialState, action) {\n  switch (action.type) {\n    case REGISTER:\n      return state;\n    case LOGIN:\n      return state;\n    case LOGOUT:\n      return state;\n    case SET_USER_LOGIN:\n      return {\n        isLoggedIn: true,\n        userObj: action.user,\n        authMsg: { msg: '', isError: false },\n      };\n    case SET_USER_LOGOUT:\n      return {\n        isLoggedIn: false,\n        userObj: {},\n        authMsg: { msg: '', isError: false },\n      };\n    case FAIL:\n      return {\n        authMsg: { msg: action.msg, isError: true },\n      };\n    case SET_ERROR_MSG:\n      return state;\n    case FAIL_ON_VALIDATION:\n      return {\n        authMsg: { msg: action.msg, isError: true },\n      };\n    default:\n      return state;\n  }\n};","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { IconButton, List, ListItem, Divider } from '@material-ui/core';\nimport { Menu, Close, MonetizationOn } from '@material-ui/icons';\nimport { logout } from 'modules/userInfo';\n\nconst NavBar = () => {\n\n  const history = useHistory();\n\n  const dispatch = useDispatch();\n\n  const [openDrawer, setOpenDrawer] = useState(false);\n  \n  const { isLoggedIn } = useSelector(state => ({\n    isLoggedIn: state.userInfo.isLoggedIn,\n  }));\n\n  const toggleDrawer = () => {\n    setOpenDrawer(!openDrawer);\n  };\n\n  const onMovePage = (page) => {\n    toggleDrawer();\n    history.push(`/${page}`);\n  };\n\n  const onLogout = () => {\n    toggleDrawer();\n    dispatch(logout());\n  }\n\n  return (\n    <>\n      <nav className=\"nav-container\">\n        {isLoggedIn ? (\n          <IconButton onClick={toggleDrawer}>\n          {openDrawer ? (\n            <Close />\n          ) : (\n            <Menu />\n          )}\n        </IconButton>\n        ) : (\n          <IconButton>\n            <MonetizationOn />\n          </IconButton>\n        )}\n        <span className=\"app-title\">브카 이용내역서</span>\n      </nav>\n      {openDrawer && (\n        <div className=\"nav-drawer\">\n          <List>\n            <ListItem\n              button\n              onClick={() => onMovePage('')}\n            >\n              <span>요약</span>\n            </ListItem>\n            <ListItem\n              button\n              onClick={() => onMovePage('expense')}\n            >\n              <span>사용</span>\n            </ListItem>\n            <ListItem\n              button\n              className=\"nav-drawer-last-item\"\n              onClick={() => onMovePage('income')}\n            >\n              <span>충전</span>\n            </ListItem>\n            {isLoggedIn && (\n              <>\n                <Divider />\n                <ListItem button onClick={onLogout}><span>로그아웃</span></ListItem>\n              </>\n            )}\n          </List>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default NavBar;\n","\nexport function trimMonth(month) {\n  let result = '';\n\n  if (month) {\n    result = month.substr(0, 1) === '0' ? month.substr(1, 1) : month;\n  }\n\n  return result;\n};\n\nexport function addComma(number) {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n};\n\nexport function convertPropertyData(obj, name, defaultValue) {\n  let returnValue = defaultValue;\n\n  if (obj[name]) {\n    returnValue = obj[name];\n  }\n\n  return returnValue;\n}","import { call, put, takeEvery } from 'redux-saga/effects';\nimport { dbService } from \"fBase\";\nimport * as cm from 'share/common';\n\n// Action types\nconst READ = 'summaryInfo/READ';\nconst SUCCESS = 'summaryInfo/SUCCESS';\nconst FAIL = 'summaryInfo/FAIL';\nconst SET_SUMMARY = 'summaryInfo/SET_SUMMARY';\n\n// Action creators\nexport const readSummary = obj => ({ type: READ, ...obj });\n\n// saga\nfunction* readSummarySaga(action) {\n  try {\n    const { month } = action;\n\n    const incomeList = yield call(async () => {\n      const incomeRefs = await dbService.collection('income').where('ym', '==', month).get();\n\n      const { docs } = incomeRefs;\n      \n      if (docs) {\n        const tempArr = [];\n\n        docs.forEach(doc => {\n          if (doc.exists) {\n            tempArr.push({ id: doc.id, ...doc.data() });\n          }\n        });\n\n        return tempArr;\n      }\n    });\n\n    const expenseList = yield call(async () => {\n      const expenseRefs = await dbService.collection('expense').where('ym', '==', month).get();\n\n      const { docs } = expenseRefs;\n\n      if (docs) {\n        const tempArr = [];\n\n        docs.forEach(doc => {\n          if (doc.exists) {\n            tempArr.push({ id: doc.id, ...doc.data() });\n          }\n        });\n\n        return tempArr;\n      }\n    });\n\n    if (Array.isArray(incomeList) && Array.isArray(expenseList)) {\n      const totalIncome = incomeList.reduce((sum, item) => sum += cm.convertPropertyData(item, 'itemAmount', 0), 0);\n      let totalExpense = 0;\n      let balance = 0; \n      const expensePerTypes = {};\n\n      expenseList.forEach(row => {\n        const itemTypeName = row.itemTypeName;\n        const itemPrice = cm.convertPropertyData(row, 'itemPrice', 0);\n        if (!expensePerTypes[itemTypeName]) {\n          expensePerTypes[itemTypeName] = 0;\n        }\n\n        expensePerTypes[itemTypeName] += itemPrice;\n        totalExpense += itemPrice;\n      });\n\n      balance = totalIncome - totalExpense;\n\n      yield put({ type: SET_SUMMARY, totalIncome, totalExpense, balance, expensePerTypes });\n    }\n  } catch (e) {\n    console.log(e);\n\n  }\n}\n\nexport function* summaryInfoSaga() {\n  yield takeEvery(READ, readSummarySaga);\n}\n\nconst initialState = {\n  summary: {\n    totalIncome: 0,\n    totalExpense: 0,\n    balance: 0,\n    expensePerTypes: {},\n  },\n};\n\nexport default function summaryInfo(state = initialState, action) {\n  switch (action.type) {\n    case READ:\n      return state;\n    case SUCCESS:\n      return state;\n    case FAIL:\n      return state;\n    case SET_SUMMARY:\n      return {\n        summary: {\n          totalIncome: action.totalIncome,\n          totalExpense: action.totalExpense,\n          balance: action.balance,\n          expensePerTypes: action.expensePerTypes,\n        }\n      };\n    default:\n      return state;\n  }\n}","import React from 'react';\nimport ReactECharts from 'echarts-for-react';\n\nconst Home = ({ chartOption }) => (\n  <div>\n    <ReactECharts\n      option={chartOption}\n      notMerge={true}\n      lazyUpdate={true}\n      style={{ width: '100vw' }}\n    />\n  </div>\n);\n\nexport default Home;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport moment from 'moment';\nimport { readSummary } from 'modules/summaryInfo';\nimport * as cm from 'share/common';\nimport { IconButton } from '@material-ui/core';\nimport { ArrowBackIos, ArrowForwardIos } from '@material-ui/icons';\nimport Home from 'components/Home';\n\nconst HomeContainer = () => {\n  const dispatch = useDispatch();\n  \n  const { summaryInfo } = useSelector(state => ({\n    summaryInfo: state.summaryInfo.summary,\n  }));\n\n  const defaultOption = {\n    tooltip: {\n      trigger: 'item',\n    },\n    legend: {\n      show: true,\n      top: 'bottom',\n    },\n    series: [\n      {\n        type: 'pie',\n        radius: '40%',\n        width: '100%',\n        height: '100%',\n        data: [],\n        label: {\n          formatter: params => {\n            const { name, percent, value } = params;\n            return `{title|${name}: ${percent}%}\\n{amount|${cm.addComma(value)}원}`\n          },\n          rich: {\n            title: { fontWeight: 'bold', fontSize: 14 },\n            ammount: { color: '#999' },\n          },\n        },\n      }\n    ]\n  };\n\n  const [curYear, setCurYear] = useState(moment().format('YYYY'));\n  const [curMonth, setCurMonth] = useState(moment().format('MM'));\n  const [balance, setBalance] = useState(0);\n  const [chartOption, setChartOption] = useState({ ...defaultOption });\n  \n  // 상단 화살표 버튼 클릭 이벤트 핸들러\n  const onClickArrowBtn = flag => {\n    let newlySelectedMonth = '';\n\n    if (flag === 'prev') {\n      // 왼쪽 화살표 클릭 시 이전달 조회\n      newlySelectedMonth = moment(`${curYear}-${curMonth}`).subtract(1, 'months');\n    } else {\n      // 오른쪽 화살표 클릭 시 다음달 조회\n      newlySelectedMonth = moment(`${curYear}-${curMonth}`).add(1, 'months');\n    }\n    \n    setCurYear(moment(newlySelectedMonth).format('YYYY'));\n    setCurMonth(moment(newlySelectedMonth).format('MM'));\n  };\n\n  // 요약 정보 조회\n  const getSummaryInfo = useCallback(() => {\n    dispatch(readSummary({ month: moment().format(`${curYear}-${curMonth}`) }));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [curYear, curMonth]);\n\n  const setSummaryInfo = useCallback(() => {\n    setBalance(summaryInfo.balance);\n    \n    const tempData = [];\n    const tempOption = Object.assign({}, defaultOption);\n\n    Object.entries(summaryInfo.expensePerTypes).forEach(([key, value]) => {\n      tempData.push({ name: key, value });\n    });\n    \n    tempOption.series[0].data = tempData;\n\n    setChartOption(tempOption);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [summaryInfo]);\n\n  useEffect(() => {\n    getSummaryInfo();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [curMonth]);\n\n  useEffect(() => {\n    setSummaryInfo();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [summaryInfo]);\n\n  return (\n    <div className=\"child-container\">\n      <div className=\"selected-month-box\">\n        <div className=\"vertical-empty-space\" />\n\n        <div className=\"selected-month-info-box\">\n          <IconButton onClick={() => onClickArrowBtn('prev')}>\n            <ArrowBackIos />\n          </IconButton>\n          \n          <div className=\"selected-month-texts\">\n            <div className=\"title\">\n              {cm.trimMonth(curMonth)}월 잔액\n            </div>\n            <div className=\"amount\">\n              {cm.addComma(balance)}원\n            </div>\n          </div>\n          \n          <IconButton id=\"next\" onClick={() => onClickArrowBtn('next')}>\n            <ArrowForwardIos />\n          </IconButton>\n        </div>\n      </div>\n      \n      <Home chartOption={chartOption} />\n    </div>\n  );\n};\n\nexport default HomeContainer;\n","import React from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport { Android, AccountBalance, Apple } from '@material-ui/icons';\n\nconst Auth = ({\n  isOnRegister,\n  email, password,\n  toggleRegisterProcess, onChangeValue,\n  onPressKey, handleLogin, onClickRegisterBtn,\n}) => (\n  <div className=\"auth-container\">\n\n    <div className=\"icon-area\">\n      <Android fontSize=\"large\" />\n      <AccountBalance fontSize=\"large\" />\n      <Apple fontSize=\"large\" />\n    </div>\n\n    <div className=\"input-area\">\n      <TextField\n        name=\"email\"\n        type=\"text\"\n        label=\"Email address\"\n        required\n        value={email}\n        onChange={onChangeValue}\n        onKeyPress={onPressKey}\n      />\n      <TextField\n        id=\"password\"\n        name=\"password\"\n        type=\"password\"\n        label=\"password\"\n        required\n        value={password}\n        onChange={onChangeValue}\n        onKeyPress={onPressKey}\n      />\n    </div>\n\n    <div className=\"btn-area\">\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        size=\"large\"\n        onClick={isOnRegister ? onClickRegisterBtn : handleLogin}\n      >\n        {isOnRegister ? '신규 등록' : '로그인'}\n      </Button>\n      <div className=\"spacing-area\" />\n      <Button\n        variant=\"contained\"\n        color=\"default\"\n        size=\"large\"\n        onClick={toggleRegisterProcess}\n      >\n        {isOnRegister ? '취소' : '계정 생성'}\n      </Button>\n    </div>\n  </div>\n);\n\nexport default Auth;\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { registerNewAccount, login, setErrorMsg } from 'modules/userInfo';\nimport Auth from 'components/Auth';\n\nconst AuthContainer = () => {\n\n  const dispatch = useDispatch();\n\n  const [isOnRegister, setIsOnRegister] = useState(false);  // 신규등록/로그인 전환\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const onRegister = obj => dispatch(registerNewAccount(obj));\n  const onLogin = obj => dispatch(login(obj));\n\n  const toggleRegisterProcess = () => setIsOnRegister(!isOnRegister);\n\n  // 이메일/비밀번호 입력창 변경 이벤트 핸들러\n  const onChangeValue = (e) => {\n    const {\n      target: { name, value },\n    } = e;\n\n    if (name === 'email') {\n      setEmail(value);\n    } else if (name === 'password') {\n      setPassword(value);\n    }\n  };\n\n  // 엔터키 입력 이벤트 핸들러\n  const onPressKey = e => {\n    const { charCode, target: { name } } = e;\n    \n    if (charCode === 13) { \n      if (name === 'email') {    \n        const target = document.querySelector('#password');\n        if (target) {\n          target.focus();\n        }\n      } else if (name === 'password') {\n        handleLogin();\n      }\n    } \n  };\n\n  // 정합성 체크\n  const checkValidation = () => {\n    let isValid = true;\n    if (email === '') {\n      dispatch(setErrorMsg('이메일 주소를 입력해주세요'));\n      isValid = false;\n    } else if (password === '') {\n      dispatch(setErrorMsg('비밀번호를 입력해주세요'));\n      isValid = false;\n    }\n\n    return isValid;\n  }\n\n  // 로그인 이벤트 핸들러\n  const handleLogin = () => {\n    const isValid = checkValidation();\n\n    if (isValid) {\n      onLogin({ email, password });\n    }\n  };\n\n  // 신규 등록 버튼 클릭 이벤트 핸들러\n  const onClickRegisterBtn = () => {\n    const isValid = checkValidation();\n\n    if (isValid) {\n      onRegister({ email, password });\n    }\n  };\n\n  return (\n    <>\n      <Auth\n        isOnRegister={isOnRegister}\n        email={email}\n        password={password}\n        toggleRegisterProcess={toggleRegisterProcess}\n        onChangeValue={onChangeValue}\n        onPressKey={onPressKey}\n        handleLogin={handleLogin}\n        onClickRegisterBtn={onClickRegisterBtn}\n      />\n    </>\n  );\n\n};\n\nexport default AuthContainer;\n","import { call, put, takeEvery } from 'redux-saga/effects';\nimport { dbService } from \"fBase\";\n\n// Action types\nconst READ = 'incomeInfo/READ';\nconst REGISTER = 'incomeInfo/REGISTER';\nconst DELETE = 'incomeInfo/DELETE';\nconst UPDATE = 'incomeInfo/UPDATE';\nconst SET_INCOME_LIST = 'incomeInfo/SET_INCOME_LIST';\nconst SUCCESS = 'incomeInfo/SUCCESS';\nconst FAIL = 'incomeInfo/FAIL';\n\n// Action creators\nexport const readIncomeList = obj => ({ type: READ, ...obj });\nexport const registerNewIncome = obj => ({ type: REGISTER, obj });\nexport const deleteIncome = obj => ({ type: DELETE, obj });\nexport const updateIncome = obj => ({ type: UPDATE, obj });\n\n// saga\nfunction* readIncomeListSaga(action) {\n  try {\n    const { month } = action;\n    \n    const incomeList = yield call(async () => {\n      const incomeRefs = await dbService.collection('income').where('ym', '==', month).get();\n\n      const { docs } = incomeRefs;\n      \n      if (docs) {\n        const tempArr = [];\n\n        docs.forEach(doc => {\n          if (doc.exists) {\n            tempArr.push({ id: doc.id, ...doc.data() });\n          }\n        });\n\n        return tempArr;\n      }\n    });\n\n    yield put({ type: SET_INCOME_LIST, incomeList });\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* registerNewIncomeSaga(action) {\n  try {\n    const { item, curYm } = action.obj;\n\n    const result = yield call(async () => {\n      return dbService.collection('income')\n        .add({ ...item, ym: curYm })\n        .then(result => result)\n        .catch(error => {\n          console.log(error);\n          return null;\n        });\n    });\n    \n    if (result) {\n      yield put({ type: SUCCESS, msg: '등록했습니다!' });\n    } else {\n      yield put({ type: FAIL, msg: '처리하지 못했습니다.' });\n    }\n\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* deleteIncomeSaga(action) {\n  try {\n    const { obj: { month, id } } = action;\n\n    const result = yield call(async () => {\n      return dbService.collection('income').doc(id)\n        .delete()\n        .then(() => {\n          return true;\n        })\n        .catch(error => {\n          console.log(error);\n          return false;\n        });\n    });\n\n    if (result) {\n      yield put({ type: SUCCESS, msg: '삭제했습니다!' });\n      yield put({ type: READ, month: month });\n    } else {\n      yield put({ type: FAIL, msg: '처리하지 못했습니다.' });\n    }\n    \n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* updateIncomeSaga(action) {\n  try {\n    const { item } = action.obj;\n    \n    const result = yield call(async () => {\n      return dbService.collection('income')\n        .doc(item.id).update({ ...item })\n        .then(() => {\n          return true;\n        })\n        .catch(error => {\n          console.log(error);\n          return false;\n        });\n    });\n\n    if (result) {\n      yield put({ type: SUCCESS, msg: '수정했습니다!' });\n    } else {\n      yield put({ type: FAIL, msg: '처리하지 못했습니다.' });\n    }\n\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport function* incomeInfoSaga() {\n  yield takeEvery(REGISTER, registerNewIncomeSaga);\n  yield takeEvery(READ, readIncomeListSaga);\n  yield takeEvery(DELETE, deleteIncomeSaga);\n  yield takeEvery(UPDATE, updateIncomeSaga);\n}\n\n// initial states\nconst initialState = {\n  incomeList: [],\n  incomeMsg: { msg: '', isError: false },\n};\n\n// reducers\nexport default function incomeInfo(state = initialState, action) {\n  switch (action.type) {\n    case REGISTER:\n      return state;\n    case READ:\n      return state;\n    case DELETE:\n      return state;\n    case UPDATE:\n      return state;\n    case SET_INCOME_LIST:\n      return {\n        incomeList: action.incomeList,\n      };\n    case SUCCESS:\n      return {\n        incomeMsg: { msg: action.msg, isError: false },       \n      };\n    case FAIL:\n      return {\n        incomeMsg: { msg: action.msg, isError: true },       \n      };\n    default:\n      return state;\n  }\n};","import React from 'react';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\n\nconst FloatingAddBtn = ({ movePage }) => {\n  return (\n    <div className=\"floating-btn\" onClick={movePage}>\n      <AddCircleIcon color=\"primary\" style={{ fontSize: 50 }} />\n    </div>\n  );\n};\n\nexport default FloatingAddBtn;\n","import React from 'react';\nimport { IconButton } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\nimport * as cm from 'share/common';\n\nconst ItemList = ({\n  type,\n  curItemList,\n  showDelBtn,\n  deleteItem,\n  onEventHandler,\n}) => (\n  <>\n    <div className=\"item-list-container\">\n    { Array.isArray(curItemList) &&\n      curItemList.map((item, index) =>\n        <div key={index} id={item.id} className=\"item-info-container\" >\n          <div\n            className={`item-info${showDelBtn === item.id ? '-deletable' : ''}`}\n            draggable\n            onTouchStart={e => onEventHandler(e, item.id)}\n            onTouchEnd={e => onEventHandler(e, item.id)}\n          >\n            <div className=\"item-text\">\n              { item.itemTypeName }\n            </div>\n            <div>\n              { type === 'income' ? `${cm.addComma(item.itemAmount)}원` : `${cm.addComma(item.itemPrice)}원`}\n            </div>\n          </div>\n\n          {showDelBtn && showDelBtn === item.id && (\n            <div className=\"icon\">\n              <IconButton onClick={() => deleteItem(item.id)}>\n                <Delete />\n              </IconButton>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  </>\n);\n\nexport default ItemList;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport moment from 'moment';\nimport { readIncomeList, deleteIncome } from 'modules/incomeInfo';\nimport * as cm from 'share/common';\nimport FloatingAddBtn from 'share/FloatingAddBtn';\nimport ItemList from 'components/ItemList';\nimport { IconButton } from '@material-ui/core';\nimport { ArrowBackIos, ArrowForwardIos } from '@material-ui/icons';\n\nconst IncomeContainer = () => {\n\n  const history = useHistory();\n  const location = useLocation();\n\n  const dispatch = useDispatch();\n\n  const { incomeList } = useSelector(state => ({\n    incomeList: state.incomeInfo.incomeList,\n  }));\n\n  const [curYear, setCurYear] = useState(moment().format('YYYY'));\n  const [curMonth, setCurMonth] = useState(moment().format('MM'));\n  const [curIncomeList, setCurIncomeList] = useState([]);\n  const [totalIncomeAmount, setTotalIncomeAmount] = useState(0);\n  const [showDelBtn, setShowDelBtn] = useState(false);\n  const [touchPosition, setTouchPosition] = useState({ x: '', y: '' });\n\n  // 상단 화살표 버튼 클릭 이벤트 핸들러\n  const onClickArrowBtn = flag => {\n    let newlySelectedMonth = '';\n\n    if (flag === 'prev') {\n      // 왼쪽 화살표 클릭 시 이전달 조회\n      newlySelectedMonth = moment(`${curYear}-${curMonth}`).subtract(1, 'months');\n    } else {\n      // 오른쪽 화살표 클릭 시 다음달 조회\n      newlySelectedMonth = moment(`${curYear}-${curMonth}`).add(1, 'months');\n    }\n    \n    setCurYear(moment(newlySelectedMonth).format('YYYY'));\n    setCurMonth(moment(newlySelectedMonth).format('MM'));\n  };\n\n  // 추가 버튼 클릭 이벤트 핸들러\n  const moveToAddIncomeList = () => {\n    history.push({\n      pathname: '/add',\n      state: { type: 'income', actionType: 'add', targetMonth: `${curYear}-${curMonth}` },\n    });\n  };\n\n  // 상세 정보 조회 이벤트 핸들러\n  const updateIncomeList = id => {\n    const selectedItem = Array.isArray(curIncomeList) && curIncomeList.find(item => item.id === id);\n\n    if (selectedItem) {\n      history.push({\n        pathname: '/add',\n        state: {\n          type: 'income',\n          actionType: 'update',\n          targetItem: selectedItem,\n          targetMonth: `${curYear}-${curMonth}`\n        },\n      });\n    }\n  };\n  \n  // 삭제 버튼 클릭 이벤트 핸들러\n  const deleteIncomeList = id => {\n    dispatch(deleteIncome({\n      month: moment().format(`${curYear}-${curMonth}`),\n      id,\n    }));\n  };\n\n  // 리스트 영역 내 터치 이벤트 핸들러\n  const onEventHandler = (e, id) => {\n\n    switch (e.type) {\n      case 'touchstart':\n        // 터치 이벤트 시작 시 처리\n        setTouchPosition({\n          x: e.changedTouches[0].pageX,\n          y: e.changedTouches[0].pageY\n        });\n        break;\n      case 'touchend':\n        // 터치 이벤트 종료 시 처리\n        const xPos = e.changedTouches[0].pageX;\n        const yPos = e.changedTouches[0].pageY;\n\n        if (touchPosition.x === xPos && touchPosition.y === yPos) {\n          // 동일 위치 터치 시 상세정보 조회 이벤트 트리거\n          if (showDelBtn) {\n            // 삭제 버튼 활성화 상태에서 터치 시 삭제 버튼 비활성화\n            setShowDelBtn('');\n            setTouchPosition({ x: '', y: '' });\n          } else {\n            // 상세 정보 화면으로 이동\n            updateIncomeList(id);\n          }\n        } else {\n          // 스와이프하여 x 좌표 이동 거리가 더 길 경우 삭제 버튼 활성화\n          let targetId;\n        \n          const distanceX = Math.abs(touchPosition.x - e.changedTouches[0].pageX);\n          const distanceY = Math.abs(touchPosition.y - e.changedTouches[0].pageY);\n\n          if (distanceX > distanceY && showDelBtn !== id) {\n            targetId = id;\n          } else {\n            targetId = '';\n          }\n\n          setShowDelBtn(targetId);\n          setTouchPosition({ x: '', y: '' });\n        }\n\n        break;\n      default:\n        break;\n    }\n  };\n\n  // 수입 목록 조회\n  const getIncomeList = useCallback(() => {\n    dispatch(readIncomeList({ month: moment().format(`${curYear}-${curMonth}`) }));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [curYear, curMonth]);\n\n  // 수입 목록 조회 결과 변경 시 세팅\n  const setIncomeList = useCallback(() => {\n    const totalAmount = Array.isArray(incomeList) ? incomeList.reduce((sum, item) => sum += item.itemAmount, 0) : 0;\n\n    setCurIncomeList(incomeList);\n    setTotalIncomeAmount(totalAmount);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [incomeList]);\n\n  // 조회연월 또는 location 변경 시 조회\n  useEffect(() => {\n    if (location && location.state && location.state.targetMonth) {\n      // 페이지 이동 후 데이터 세팅\n      const tempArr = location.state.targetMonth.split('-');\n      const tempYear = tempArr[0];\n      const tempMonth = tempArr[1];\n\n      // 페이지 이동 시 사용하는 파라미터 제거\n      history.replace({ state: undefined });\n\n      setCurYear(tempYear);\n      setCurMonth(tempMonth);\n      \n      getIncomeList();\n    } else {\n      getIncomeList();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [curMonth, location]);\n\n  // 수입 데이터 조회 후 항목 세팅\n  useEffect(() => {\n    setIncomeList();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [incomeList]);\n\n  return (\n    <div className=\"child-container\">\n      <div className=\"selected-month-box\">\n        <div className=\"vertical-empty-space\" />\n        \n        <div className=\"selected-month-info-box\">\n          <IconButton onClick={() => onClickArrowBtn('prev')}>\n            <ArrowBackIos />\n          </IconButton>\n          \n          <div className=\"selected-month-texts\">\n            <div className=\"title\">\n              {cm.trimMonth(curMonth)}월 충전금액\n            </div>\n            <div className=\"amount\">\n              {cm.addComma(totalIncomeAmount)}원\n            </div>\n          </div>\n          \n          <IconButton id=\"next\" onClick={() => onClickArrowBtn('next')}>\n            <ArrowForwardIos />\n          </IconButton>\n        </div>\n      </div>\n       \n      <ItemList\n        type=\"income\"\n        curItemList={curIncomeList}\n        showDelBtn={showDelBtn}\n        deleteItem={deleteIncomeList}\n        onEventHandler={onEventHandler}\n      />\n      <FloatingAddBtn movePage={moveToAddIncomeList} />\n    </div>\n  );\n};\n\nexport default IncomeContainer;","import { call, put, takeEvery } from 'redux-saga/effects';\nimport { dbService } from \"fBase\";\n\n// Action types\nconst READ = 'expenseInfo/READ';\nconst REGISTER = 'expenseInfo/REGISTER';\nconst DELETE = 'expenseInfo/DELETE';\nconst UPDATE = 'expenseInfo/UPDATE';\nconst SET_EXPENSE_LIST = 'expenseInfo/SET_EXPENSE_LIST';\nconst SUCCESS = 'expenseInfo/SUCCESS';\nconst FAIL = 'expenseInfo/FAIL';\n\n// Action creators\nexport const readExpenseList = obj => ({ type: READ, ...obj });\nexport const registerNewExpense = obj => ({ type: REGISTER, obj });\nexport const deleteExpense = obj => ({ type: DELETE, obj });\nexport const updateExpense = obj => ({ type: UPDATE, obj });\n\n// saga\nfunction* readExpenseListSaga(action) {\n  try {\n    const { month } = action;\n    \n    const expenseList = yield call(async () => {\n      const expenseRefs = await dbService.collection('expense').where('ym', '==', month).get();\n\n      const { docs } = expenseRefs;\n\n      if (docs) {\n        const tempArr = [];\n\n        docs.forEach(doc => {\n          if (doc.exists) {\n            tempArr.push({ id: doc.id, ...doc.data() });\n          }\n        });\n\n        return tempArr;\n      }\n    })\n\n    yield put({ type: SET_EXPENSE_LIST, expenseList });\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* registerNewExpenseSaga(action) {\n  try {\n    const { item, curYm } = action.obj;\n\n    const result = yield call(async () => {\n      return dbService.collection('expense')\n        .add({ ...item, ym: curYm })\n        .then(result => result)\n        .catch(error => {\n          console.log(error);\n          return null;\n        });\n    });\n\n    if (result) {\n      yield put({ type: SUCCESS, msg: '등록했습니다!' });\n    } else {\n      yield put({ type: FAIL, msg: '처리하지 못했습니다.' });\n    }\n\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* deleteExpenseSaga(action) {\n  try {\n    const { obj: { month, id } } = action;\n\n    const result = yield call(async () => {\n      return dbService.collection('expense')\n        .doc(id)\n        .delete()\n        .then(() => {\n          return true;\n        })\n        .catch(error => {\n          console.log(error);\n          return false;\n        });\n    });\n\n    if (result) {\n      yield put({ type: SUCCESS, msg: '삭제했습니다!' });\n      yield put({ type: READ, month: month });\n    } else {\n      yield put({ type: FAIL, msg: '처리하지 못했습니다.' });\n    }\n    \n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* updateExpenseSaga(action) {\n  try {\n    const { item } = action.obj;\n    \n    const result = yield call(async () => {\n      return dbService.collection('expense')\n        .doc(item.id)\n        .update({ ...item })\n        .then(() => {\n          return true;\n        })\n        .catch(error => {\n          console.log(error);\n          return false;\n        });\n    });\n\n    if (result) {\n      yield put({ type: SUCCESS, msg: '수정했습니다!' });\n    } else {\n      yield put({ type: FAIL, msg: '처리하지 못했습니다.' });\n    }\n\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport function* expenseInfoSaga() {\n  yield takeEvery(REGISTER, registerNewExpenseSaga);\n  yield takeEvery(READ, readExpenseListSaga);\n  yield takeEvery(DELETE, deleteExpenseSaga);\n  yield takeEvery(UPDATE, updateExpenseSaga);\n}\n\n// initial states\nconst initialState = {\n  incomeList: [],\n  incomeMsg: { msg: '', isError: false },\n};\n\n// reducers\nexport default function expenseInfo(state = initialState, action) {\n  switch (action.type) {\n    case REGISTER:\n      return state;\n    case READ:\n      return state;\n    case DELETE:\n      return state;\n    case UPDATE:\n      return state;\n    case SET_EXPENSE_LIST:\n      return {\n        expenseList: action.expenseList,\n      };\n    case SUCCESS:\n      return {\n        expenseMsg: { msg: action.msg, isError: false },       \n      };\n    case FAIL:\n      return {\n        expenseMsg: { msg: action.msg, isError: true },       \n      };\n    default:\n      return state;\n  }\n};","import React, { useEffect, useState, useCallback } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport moment from 'moment';\nimport { readExpenseList, deleteExpense } from 'modules/expenseInfo';\nimport * as cm from 'share/common';\nimport FloatingAddBtn from 'share/FloatingAddBtn';\nimport ItemList from 'components/ItemList';\nimport { IconButton } from '@material-ui/core';\nimport { ArrowBackIos, ArrowForwardIos } from '@material-ui/icons';\n\nconst ExpenseContainer = () => {\n\n  const history = useHistory();\n  const location = useLocation();\n\n  const dispatch = useDispatch();\n\n  const { expenseList } = useSelector(state => ({\n    expenseList: state.expenseInfo.expenseList,\n  }));\n\n  const [curYear, setCurYear] = useState(moment().format('YYYY'));\n  const [curMonth, setCurMonth] = useState(moment().format('MM'));\n  const [curExpenseList, setCurExpenseList] = useState([]);\n  const [totalExpenseAmount, setTotalExpenseAmount] = useState(0);\n  const [showDelBtn, setShowDelBtn] = useState(false);\n  const [touchPosition, setTouchPosition] = useState({ x: '', y: '' });\n\n  // 상단 화살표 버튼 클릭 이벤트 핸들러\n  const onClickArrowBtn = flag => {\n    let newlySelectedMonth = '';\n\n    if (flag === 'prev') {\n      // 왼쪽 화살표 클릭 시 이전달 조회\n      newlySelectedMonth = moment(`${curYear}-${curMonth}`).subtract(1, 'months');\n    } else {\n      // 오른쪽 화살표 클릭 시 다음달 조회\n      newlySelectedMonth = moment(`${curYear}-${curMonth}`).add(1, 'months');\n    }\n    \n    setCurYear(moment(newlySelectedMonth).format('YYYY'));\n    setCurMonth(moment(newlySelectedMonth).format('MM'));\n  };\n\n  // 추가 버튼 클릭 이벤트 핸들러\n  const moveToAddExpenseList = () => {\n    history.push({\n      pathname: '/add',\n      state: { type: 'expense', actionType: 'add', targetMonth: `${curYear}-${curMonth}` },\n    });\n  };\n\n  // 상세 정보 조회 이벤트 핸들러\n  const updateExpenseList = id => {\n    const selectedItem = Array.isArray(curExpenseList) && curExpenseList.find(item => item.id === id);\n\n    if (selectedItem) {\n      history.push({\n        pathname: '/add',\n        state: {\n          type: 'expense',\n          actionType: 'update',\n          targetItem: selectedItem,\n          targetMonth: `${curYear}-${curMonth}`\n        },\n      });\n    }\n  };\n\n  // 삭제 버튼 클릭 이벤트 핸들러\n  const deleteExpenseList = id => {\n    dispatch(deleteExpense({\n      month: moment().format(`${curYear}-${curMonth}`),\n      id,\n    }));\n  };\n\n  // 리스트 영역 내 터치 이벤트 핸들러\n  const onEventHandler = (e, id) => {\n\n    switch (e.type) {\n      case 'touchstart':\n        // 터치 이벤트 시작 시 처리\n        setTouchPosition({\n          x: e.changedTouches[0].pageX,\n          y: e.changedTouches[0].pageY\n        });\n        break;\n      case 'touchend':\n        // 터치 이벤트 종료 시 처리\n        const xPos = e.changedTouches[0].pageX;\n        const yPos = e.changedTouches[0].pageY;\n\n        if (touchPosition.x === xPos && touchPosition.y === yPos) {\n          // 동일 위치 터치 시 상세정보 조회 이벤트 트리거\n          if (showDelBtn) {\n            // 삭제 버튼 활성화 상태에서 터치 시 삭제 버튼 비활성화\n            setShowDelBtn('');\n            setTouchPosition({ x: '', y: '' });\n          } else {\n            // 상세 정보 화면으로 이동\n            updateExpenseList(id);\n          }\n        } else {\n          // 스와이프하여 x 좌표 이동 거리가 더 길 경우 삭제 버튼 활성화\n          let targetId;\n        \n          const distanceX = Math.abs(touchPosition.x - e.changedTouches[0].pageX);\n          const distanceY = Math.abs(touchPosition.y - e.changedTouches[0].pageY);\n\n          if (distanceX > distanceY && showDelBtn !== id) {\n            targetId = id;\n          } else {\n            targetId = '';\n          }\n\n          setShowDelBtn(targetId);\n          setTouchPosition({ x: '', y: '' });\n        }\n\n        break;\n      default:\n        break;\n    }\n  };\n\n  // 수입 목록 조회\n  const getExpenseList = useCallback(() => {\n    dispatch(readExpenseList({ month: moment().format(`${curYear}-${curMonth}`) }));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [curYear, curMonth]);\n\n  // 수입 목록 조회 결과 변경 시 세팅\n  const setExpenseList = useCallback(() => {\n    const totalAmount = Array.isArray(expenseList) ? expenseList.reduce((sum, item) => sum += item.itemPrice, 0) : 0;\n\n    setCurExpenseList(expenseList);\n    setTotalExpenseAmount(totalAmount);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [expenseList]);\n\n  // 조회연월 또는 location 변경 시 조회\n  useEffect(() => {\n    if (location && location.state && location.state.targetMonth) {\n      // 페이지 이동 후 데이터 세팅\n      const tempArr = location.state.targetMonth.split('-');\n      const tempYear = tempArr[0];\n      const tempMonth = tempArr[1];\n\n      setCurYear(tempYear);\n      setCurMonth(tempMonth);\n\n      // 페이지 이동 시 사용하는 파라미터 제거\n      history.replace({ state: undefined });\n    }\n\n    getExpenseList();\n    \n    // if (location && location.state && location.state.targetMonth) {\n    //   // 페이지 이동 후 데이터 세팅\n    //   const tempArr = location.state.targetMonth.split('-');\n    //   const tempYear = tempArr[0];\n    //   const tempMonth = tempArr[1];\n\n    //   // 페이지 이동 시 사용하는 파라미터 제거\n    //   history.replace({ state: undefined });\n      \n    //   if (tempYear !== curYear || tempMonth !== curMonth) {\n        \n    //     setCurYear(tempYear);\n    //     setCurMonth(tempMonth);\n\n    //     getExpenseList();\n    //     // dispatch(readExpenseList({ month: moment().format(`${tempYear}-${tempMonth}`) }));\n    //   } else {\n    //     setExpenseList();\n    //   }\n    // } else {\n    //   setExpenseList();\n    // }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [curMonth, location]);\n\n  // 수입 데이터 조회 후 항목 세팅\n  useEffect(() => {\n    setExpenseList();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [expenseList]);\n\n  return (\n    <div className=\"child-container\">\n      <div className=\"selected-month-box\">\n        <div className=\"vertical-empty-space\" />\n        \n        <div className=\"selected-month-info-box\">\n          <IconButton onClick={() => onClickArrowBtn('prev')}>\n            <ArrowBackIos />\n          </IconButton>\n          \n          <div className=\"selected-month-texts\">\n            <div className=\"title\">\n              {cm.trimMonth(curMonth)}월 사용금액\n            </div>\n            <div className=\"amount\">\n              {cm.addComma(totalExpenseAmount)}원\n            </div>\n          </div>\n          \n          <IconButton id=\"next\" onClick={() => onClickArrowBtn('next')}>\n            <ArrowForwardIos />\n          </IconButton>\n        </div>\n      </div>\n       \n      <ItemList\n        type=\"expense\"\n        curItemList={curExpenseList}\n        showDelBtn={showDelBtn}\n        deleteItem={deleteExpenseList}\n        onEventHandler={onEventHandler}\n      />\n      <FloatingAddBtn movePage={moveToAddExpenseList} />\n    </div>\n  );\n};\n\nexport default ExpenseContainer;","import React from 'react';\nimport {\n  TextField, Button, FormControl, InputLabel, NativeSelect,\n} from '@material-ui/core';\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport \"react-datepicker/src/stylesheets/datepicker.scss\";\nimport ko from 'date-fns/locale/ko';\nregisterLocale('ko', ko);\n\nconst ItemDetail = ({\n  type, item,\n  onChangeItem, onChangeDate,\n  onClickPrevBtn, onClickSubmitBtn,\n}) => (\n  <div className=\"item-container\">\n    <div className=\"item-detail\">\n      {type === 'expense' ? (\n        <>\n          <FormControl fullWidth>\n            <InputLabel variant=\"standard\" htmlFor=\"item-type-native\">\n              구분\n            </InputLabel>\n            <NativeSelect\n              defaultValue=\"mart\"\n              value={item.itemType}\n              inputProps={{\n                name: 'itemType',\n                id: 'item-type-native',\n              }}\n              onChange={onChangeItem}\n            >\n              <option value=\"mart\">마트</option>\n              <option value=\"dineout\">외식</option>\n              <option value=\"leisure\">여가</option>\n              <option value=\"etc\">기타</option>\n            </NativeSelect>\n          </FormControl>\n          <TextField\n            required\n            name=\"itemPrice\"\n            label=\"금액\"\n            value={item.itemPrice}\n            onChange={onChangeItem}\n          />\n          <DatePicker\n            locale=\"ko\"\n            selected={item.date}\n            onChange={onChangeDate}\n            dateFormat=\"yyyy-MM-dd\"\n            customInput={<TextField label=\"일자\" />}\n            popperModifiers={{ \n              preventOverflow: { enabled: true, },\n            }}\n            popperPlacement=\"auto\"\n          />\n          <TextField\n            name=\"remark\"\n            label=\"비고\"\n            value={item.remark}\n            onChange={onChangeItem}\n          />\n        </>\n      ): (\n        <>\n          <TextField\n            required\n            name=\"itemAmount\"\n            label=\"금액\"\n            value={item.itemAmount}\n            onChange={onChangeItem}\n          />\n          <TextField\n            name=\"remark\"\n            label=\"비고\"\n            value={item.remark}\n            onChange={onChangeItem}\n          />\n        </>\n      )}\n    </div>\n    \n    <div className=\"item-btn-area\">\n      <Button\n        variant=\"contained\"\n        onClick={onClickPrevBtn}\n      >\n        돌아가기\n      </Button>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={onClickSubmitBtn}\n      >\n        저장\n      </Button>\n    </div>\n  </div>\n);\n\nexport default ItemDetail;\n","import React, { useEffect, useState } from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { useDispatch } from 'react-redux';\nimport { registerNewIncome, updateIncome } from 'modules/incomeInfo';\nimport { registerNewExpense, updateExpense } from 'modules/expenseInfo';\nimport ItemDetail from 'components/ItemDetail';\nimport moment from 'moment';\n\nconst ItemDetailContainer = () => {\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n\n  const { state: { type, actionType, targetItem, targetMonth } } = location;\n\n  const [item, setItem] = useState(() => {\n    const tempItem = {\n      remark: '',\n    };\n\n    switch (type) {\n      case 'income':\n        tempItem.itemAmount = 0;\n        break;\n      case 'expense':\n        tempItem.itemPrice = 0;\n        tempItem.date = new Date();\n        tempItem.itemType = 'mart';\n        tempItem.itemTypeName = '마트';\n        break;\n      default:\n        break;\n    }\n\n    return tempItem;\n  });\n\n  // 아이템 유형 mapping 객체\n  const itemTypeMap = new Map([\n    [\"mart\", \"마트\"],\n    [\"dineout\", \"외식\"],\n    [\"leisure\", \"여가\"],\n    [\"etc\", \"기타\"]\n  ]);\n\n  // 항목 변경 이벤트 핸들러\n  const onChangeItem = (e) => {\n    const { target: { name, value } } = e;\n    const tempItem = { ...item };\n    let newValue = value;\n\n    switch (name) {\n      case 'priority':\n      case 'itemPrice':\n      case 'itemAmount':\n        newValue = Number(newValue.replace(/[^0-9]/gi, ''));\n        break;\n      case 'itemType':\n        tempItem.itemTypeName = itemTypeMap.get(value);\n        break;\n      case 'itemName':\n      case 'remark':\n        break;\n      default:\n        break;\n    }\n\n    tempItem[name] = newValue;\n\n    setItem(tempItem);\n  };\n\n  const onChangeDate = date => {\n    const tempItem = { ...item };\n    tempItem.date = date;\n    setItem(tempItem);\n  };\n\n  // 돌아가기 버튼 클릭 이벤트 핸들러\n  const onClickPrevBtn = () => {\n    history.push({\n      pathname: `/${type}`,\n      state: { targetMonth },\n    });\n  };\n\n  // 저장 버튼 클릭 이벤트 핸들러\n  const onClickSubmitBtn = () => {\n    const paramItem = { ...item };\n    const action = mapActions();\n\n    if (type === 'expense') {\n      const { date } = paramItem;\n      paramItem.date = moment(date).format('YYYY-MM-DD');\n    }\n\n    dispatch(action({\n      item: paramItem,\n      curYm: targetMonth,\n    }));\n  };\n\n  // action 유형에 따라 module action mapping\n  const mapActions = () => {\n    let action = '';\n\n    const incomeActionMap = new Map([\n      ['add', registerNewIncome],\n      ['update', updateIncome],\n    ]);\n\n    const expenseActionMap = new Map([\n      ['add', registerNewExpense],\n      ['update', updateExpense],\n    ]);\n\n    switch (type) {\n      case 'income':\n        action = incomeActionMap.get(actionType);\n        break;\n      case 'expense':\n        action = expenseActionMap.get(actionType);\n        break;\n      default:\n        break;\n    }\n\n    return action;\n  };\n\n  // detail page title mapping\n  const mapPageTitle = () => {\n    let ym = '';\n    let typeText = '';\n    let actionText = '';\n\n    const tempYm = targetMonth.split('-');\n    ym = `${tempYm[0]}년 ${Number(tempYm[1])}월`;\n\n    switch (type) {\n      case 'income':\n        typeText = '충전';\n        break;\n      case 'expense':\n        typeText = '사용';\n        break;\n      default:\n        break;\n    }\n\n    switch (actionType) {\n      case 'add':\n        actionText = '추가';\n        break;\n      case 'update':\n        actionText = '수정';\n        break;\n      default:\n        break;\n    }\n\n    return `${ym} ${typeText} ${actionText}`;\n  };\n\n  useEffect(() => {\n    if (targetItem) {\n      targetItem.date = new Date(targetItem.date);\n      setItem(targetItem);\n    }\n  }, [targetItem, targetMonth]);\n\n  return (\n    <div className=\"child-container\">\n      <div className=\"vertical-empty-space\" />\n      <div className=\"page-title\">{mapPageTitle()}</div>\n      <ItemDetail\n        type={type}\n        item={item}\n        onChangeItem={onChangeItem}\n        onChangeDate={onChangeDate}\n        onClickPrevBtn={onClickPrevBtn}\n        onClickSubmitBtn={onClickSubmitBtn}\n      />\n    </div>\n  )\n};\n\nexport default ItemDetailContainer;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nconst ToastMessage = () => {\n\n  const history = useHistory();\n\n  const { isLoggedIn, authMsg, incomeMsg, expenseMsg } = useSelector(state => ({\n    isLoggedIn: state.userInfo.isLoggedIn,\n    authMsg: state.userInfo.authMsg,  // 신규등록 or 로그인 시 에러 메시지\n    incomeMsg: state.incomeInfo.incomeMsg, // 수입 스토어 액션 처리 후 메시지\n    expenseMsg: state.expenseInfo.expenseMsg, // 지출 스토어 액션 처리 후 메시지\n  }));\n\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState('');\n  const [alertType, setAlertType] = useState('error');\n\n  const closeAlert = () => setOpenAlert(false);\n\n  useEffect(() => {\n    // 로그인 or 신규가입 과정에서 에러 발생 시 서버 에러 메시지 출력\n    const { msg, isError } = authMsg;\n    if (!isLoggedIn && history.location.pathname === '/' && msg !== '' && isError ) {\n      setAlertMessage(msg);\n      setOpenAlert(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [authMsg.msg]);\n  \n  useEffect(() => {\n    // 수입 등록/삭제/수정 처리 후 처리 메시지 출력\n    if (incomeMsg) {\n      const { msg, isError } = incomeMsg;\n      if (isLoggedIn && msg !== '') {\n        setAlertMessage(msg);\n        if (!isError) {\n          setAlertType('success');\n        }\n        setOpenAlert(true);\n      }\n    }\n  }, [incomeMsg, isLoggedIn]);\n\n  useEffect(() => {\n    // 지출 등록/삭제/수정 처리 후 처리 메시지 출력\n    if (expenseMsg) {\n      const { msg, isError } = expenseMsg;\n      if (isLoggedIn && msg !== '') {\n        setAlertMessage(msg);\n        if (!isError) {\n          setAlertType('success');\n        }\n        setOpenAlert(true);\n      }\n    }\n  }, [expenseMsg, isLoggedIn])\n  \n  return (\n    <Snackbar open={openAlert} autoHideDuration={3000} onClose={closeAlert}>\n      <MuiAlert severity={alertType} elevation={6} variant=\"filled\" >\n        {alertMessage}\n      </MuiAlert>\n    </Snackbar>\n  );\n};\n\nexport default ToastMessage;","import React from \"react\";\nimport { HashRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport { useSelector } from 'react-redux';\nimport NavBar from 'components/NavBar';\nimport HomeContainer from 'containers/HomeContainer';\nimport AuthContainer from 'containers/AuthContainer';\nimport IncomeContainer from \"containers/IncomeContainer\";\nimport ExpenseContainer from \"containers/ExpenseContainer\";\nimport ItemDetailContainer from \"containers/ItemDetailContainer\";\nimport ToastMessage from \"share/ToastMessage\";\n\nconst AppRouter = () => {\n  const { isLoggedIn } = useSelector(state => ({\n    isLoggedIn: state.userInfo.isLoggedIn,\n  }));\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <NavBar />\n      <Switch>\n        {isLoggedIn ? (\n          <>\n            <Route exact path=\"/\">\n              <HomeContainer />\n            </Route>\n            <Route exact path=\"/income\">\n              <IncomeContainer />\n            </Route>\n            <Route exact path=\"/expense\">\n              <ExpenseContainer />\n            </Route>\n            <Route exact path=\"/add\">\n              <ItemDetailContainer />\n            </Route>\n            <ToastMessage />\n          </>\n        ) : (\n            <>\n              <Route exact path=\"/\">\n                <AuthContainer />\n                <ToastMessage />\n              </Route>\n              <Redirect to={{ pathname: '/' }} />\n            </>\n        )}\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;","import React from 'react';\nimport AppRouter from './router/AppRouter';\nimport './style/style.scss';\n\nfunction App() {\n  return (\n    <div>\n      <AppRouter />\n    </div>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport { all } from 'redux-saga/effects';\n\nimport userInfo, { userInfoSaga } from './userInfo';\nimport incomeInfo, { incomeInfoSaga } from './incomeInfo';\nimport expenseInfo, { expenseInfoSaga } from './expenseInfo';\nimport summaryInfo, { summaryInfoSaga } from './summaryInfo';\n\nconst rootReducer = combineReducers({\n  userInfo,\n  incomeInfo,\n  expenseInfo,\n  summaryInfo,\n});\n\nexport function* rootSaga() {\n  yield all([userInfoSaga(), incomeInfoSaga(), expenseInfoSaga(), summaryInfoSaga() ]);\n  \n}\n\nexport default rootReducer;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { applyMiddleware, createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer, { rootSaga } from './modules';\n\nconst sagaMiddleware = createSagaMiddleware(); // 사가 미들웨어를 만듭니다.\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(\n    applyMiddleware(sagaMiddleware)\n  )\n);\n\nsagaMiddleware.run(rootSaga); // 루트 사가 실행\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}